# ============================================================================
# KlikniJÃ­dlo v2 - Production Environment Configuration
# ============================================================================
# IMPORTANT: Copy this file to .env and fill in your actual values
# NEVER commit .env file to git!
# 
# Generate SECRET_KEY with:
# python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
# ============================================================================

# ----------------------------------------------------------------------------
# Django Core Settings
# ----------------------------------------------------------------------------

# CRITICAL: Generate a new, unique SECRET_KEY for production!
# Command: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
DJANGO_SECRET_KEY=!dps&@jrvluhk!3c5l5ci@q7%uw+44ex2g@4z8#^9&jc)cmm*1

# Set to False in production!
DJANGO_DEBUG=True

# Production domain and allowed hosts (comma-separated, no spaces)
DJANGO_ALLOWED_HOSTS=jidelna.kliknijidlo.cz,www.jidelna.kliknijidlo.cz,127.0.0.1,http://127.0.0.1/,localhost:8000,http://localhost:8000/

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# RECOMMENDED: Use PostgreSQL for production
# Install: sudo apt install postgresql postgresql-contrib
# Create DB: sudo -u postgres createdb kliknijidlo
# Create user: sudo -u postgres createuser -P kliknijidlo_user

DB_NAME=kliknijidlo_dev
DB_USER=kliknijidlo_user
DB_PASSWORD=dev_password_123
DB_HOST=localhost
DB_PORT=5432
DB_SSLMODE=prefer

# For development/testing with SQLite (NOT recommended for production):
# DB_ENGINE=django.db.backends.sqlite3
# DB_NAME=db.sqlite3

# ----------------------------------------------------------------------------
# Security Settings (HTTPS/SSL)
# ----------------------------------------------------------------------------
# These should all be True in production with valid SSL certificate

CSRF_TRUSTED_ORIGINS=https://jidelna.kliknijidlo.cz,https://www.jidelna.kliknijidlo.cz
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# ----------------------------------------------------------------------------
# RFID Bridge Configuration
# ----------------------------------------------------------------------------
# Port for WebSocket RFID card reader bridge
RFID_BRIDGE_PORT=3001

# Allowed origins for RFID WebSocket connections (comma-separated)
RFID_ALLOWED_ORIGINS=https://jidelna.kliknijidlo.cz,https://www.jidelna.kliknijidlo.cz

# ----------------------------------------------------------------------------
# Kiosk/Terminal User Credentials
# ----------------------------------------------------------------------------
# IMPORTANT: Change default password immediately!
# This user is used for automated kiosk/terminal access
# Create user: python manage.py createsuperuser --username vydej_terminal

KIOSK_USERNAME=vydej_terminal
KIOSK_PASSWORD=CHANGE-THIS-STRONG-PASSWORD-for-kiosk-access

# ----------------------------------------------------------------------------
# Email Configuration (for admin notifications & error alerts)
# ----------------------------------------------------------------------------
# RECOMMENDED: Configure for production error notifications
# For Gmail: Enable 2FA and use App Password
# Guide: https://support.google.com/accounts/answer/185833

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-gmail-app-password-16-chars
ADMIN_EMAIL=admin@kliknijidlo.cz
DEFAULT_FROM_EMAIL=noreply@jidelna.kliknijidlo.cz
SERVER_EMAIL=server@jidelna.kliknijidlo.cz

# Alternative SMTP providers:
# Sendgrid: smtp.sendgrid.net (port 587)
# Mailgun: smtp.mailgun.org (port 587)
# AWS SES: email-smtp.region.amazonaws.com (port 587)

# ----------------------------------------------------------------------------
# Optional: Session & Upload Limits
# ----------------------------------------------------------------------------
# Uncomment to override defaults

# SESSION_COOKIE_AGE=14400  # 4 hours in seconds
# FILE_UPLOAD_MAX_MEMORY_SIZE=5242880  # 5MB in bytes
# DATA_UPLOAD_MAX_MEMORY_SIZE=5242880  # 5MB in bytes

# ----------------------------------------------------------------------------
# Production Deployment Checklist:
# ----------------------------------------------------------------------------
# [ ] Generated new SECRET_KEY
# [ ] Set DEBUG=False
# [ ] Configured PostgreSQL database
# [ ] Set up SSL certificate (Let's Encrypt)
# [ ] Configured Nginx/Apache reverse proxy
# [ ] Changed ALLOWED_HOSTS to production domain
# [ ] Changed CSRF_TRUSTED_ORIGINS to production domain
# [ ] Changed kiosk password
# [ ] Configured email for admin notifications
# [ ] Run: python manage.py collectstatic
# [ ] Run: python manage.py migrate
# [ ] Run: python manage.py check --deploy
# [ ] Created logs directory: mkdir -p logs
# [ ] Set up daily database backups
# [ ] Changed admin URL in urls.py (recommended)
# [ ] Tested RFID bridge connection
# [ ] Verified all security headers with: securityheaders.com
# [ ] Set up monitoring/uptime checks
# ============================================================================
